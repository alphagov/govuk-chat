<%
  navigation_items ||= []
  conversation_layout ||= false
  navigation_items_classes = %w[app-c-header__nav-container app-c-header__nav-container--float-right-desktop js-header-nav-container govuk-grid-column-full]
  navigation_items_classes << "js-add-print-utility" if conversation_layout
%>

<%= content_tag :header, class: "app-c-header govuk-header", role: "banner", data: { module: "chat-header" } do %>
  <div class="app-c-header__container govuk-header__container govuk-width-container">
    <div class="app-c-header-row govuk-grid-row">
      <div class="app-c-header__logo govuk-grid-column-two-thirds">
        <%= link_to(
          logo_href,
          class: "app-c-header__link app-c-header__link--homepage govuk-header__link govuk-header__link--homepage",
          data: {
            module: "ga4-link-tracker",
            ga4_link: {
              "event_name": "navigation",
              "type": "header menu bar",
              "index": {
                "index_link": 1,
              },
              "index_total": 1,
              "section": "Logo",
            },
          },
        ) do %>
          <%= inline_svg_tag "components/chat_header/govuk-logo.svg", class: %w[app-c-header__logotype govuk-header__logotype] %>
          <span class="app-c-header__product-name">Chat</span>
        <% end %>

        <span class="app-c-header__tag govuk-tag">
          Experimental
        </span>
      </div>

      <% if navigation_items.any? %>
        <%= content_tag(
          :div,
          class: navigation_items_classes,
          data: {
            module: "ga4-link-tracker",
            ga4_link: {
              "event_name": "navigation",
              "type": "header menu bar",
              "section": "About and support",
            },
            ga4_track_links_only: "",
            ga4_set_indexes: "",
          },
        ) do %>
            <%= render "govuk_publishing_components/components/layout_header/navigation_items", navigation_items: navigation_items %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
