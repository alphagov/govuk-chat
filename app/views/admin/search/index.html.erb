<%= content_for :title, "Search RAG index" %>


<%= form_with url: admin_search_url, method: :get do |f| %>
    <%= render "govuk_publishing_components/components/search", {
        label_text: "Text to search for",
        inline_label: false,
        name: "search_text",
        value: @search_text,
      } %>
<% end %>

<%= render "govuk_publishing_components/components/table", {
    head: [{ text: "Title" },
           { text: "Base path"},
           { text: "Text" },
           { text: "Score", format: "numeric" },],
    rows: @search_results.map do |result|
            [{ text: result.title },
             { text: result.base_path },
             { text: result.plain_content.truncate(100) },
             { text: result.score, format: "numeric" },]
          end
} %>

