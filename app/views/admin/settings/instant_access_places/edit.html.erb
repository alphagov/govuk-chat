<%= content_for :title, "Edit instant access places" %>
<%= content_for :title_context, "Settings" %>
 <%= content_for(:back_link, render("govuk_publishing_components/components/back_link",
                                    href: admin_settings_path) ) %>
<% if @form.errors.any? %>
  <%= content_for :error_summary do %>
    <%= render "govuk_publishing_components/components/error_summary", {
      title: "There is a problem",
      items: error_items_for_summary_component(
        @form,
        {
          places: "#instant_access_places_form_places",
          author_comment: "#instant_access_places_form_author_comment",
        },
      ),
    } %>
  <% end %>
<% end %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <%= form_with url: admin_update_instant_access_places_path, method: :patch do |f| %>
      <%= render "govuk_publishing_components/components/input", {
        label: {
          text: "Additional places",
        },
        hint: "Enter the number of places you want to add or remove. It must be a positive or negative integer",
        id: "instant_access_places_form_places",
        name: "instant_access_places_form[places]",
        value: @form.places,
        heading_level: 2,
        heading_size: "l",
        error_items: error_items(@form, :places),
      } %>

      <%= render "govuk_publishing_components/components/character_count", {
        textarea: {
          label: {
            heading_size: "l",
            heading_level: 2,
            text: "Author comment (optional)",
          },
          name: "instant_access_places_form[author_comment]",
          value: @form.author_comment,
        },
        id: "instant_access_places_form_author_comment",
        maxlength: 250,
      } %>

      <%= render "govuk_publishing_components/components/button", {
        text: "Submit",
      } %>
    <% end %>
  </div>
</div>
