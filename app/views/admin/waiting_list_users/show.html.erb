<%= content_for :title, "User details" %>

<%= content_for :breadcrumbs do %>
  <%= render "govuk_publishing_components/components/breadcrumbs", {
    collapse_on_mobile: true,
    breadcrumbs: [
      {
        title: "Waiting list users",
        url: admin_waiting_list_users_path,
      },
      {
        title: "User details",
      },
    ],
  } %>
<% end %>

<%
  summary_items = [
    {
      field: "Email",
      value: @user.email,
    },
    {
      field: "Created",
      value: @user.created_at.to_fs(:time_and_date),
    },
    {
      field: "Source",
      value: @user.source.humanize,
    },
    {
      field: "User research question: #{user_research_questions.user_description.text}",
      value: @user.user_description,
    },
    {
      field: "User research question: #{user_research_questions.reason_for_visit.text}",
      value: @user.reason_for_visit,
    },
  ]
%>

<%= render "govuk_publishing_components/components/button", {
  text: "Promote to Early Access User",
  href: promote_admin_waiting_list_user_path(@user),
} %>

<%= render "govuk_publishing_components/components/button", {
  text: "Edit user",
  href: edit_admin_waiting_list_user_path(@user),
  margin_bottom: true,
} %>

<%= render "govuk_publishing_components/components/button", {
  text: "Delete user",
  href: delete_admin_waiting_list_user_path(@user),
  destructive: true,
} %>

<%= render "govuk_publishing_components/components/summary_list", {
  items: summary_items,
} %>
